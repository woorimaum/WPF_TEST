<Window x:Class="WPF_TEST.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:extends="clr-namespace:WPF_TEST.Extends"        
        xmlns:local="clr-namespace:WPF_TEST"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"        
        xmlns:po="http://schemas.microsoft.com/winfx/2006/xaml/presentation/options"
        xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
        AllowsTransparency="True"
        Title="MainWindow"
        Width="800"
        WindowStartupLocation="CenterScreen"
        Background="Transparent"
        WindowState="Normal"        
        WindowStyle="None"   
        x:Name="window"        
        Height="450"        
        mc:Ignorable="d">

    <WindowChrome.WindowChrome>
        <WindowChrome CaptionHeight="0"
                      GlassFrameThickness="0"
                      CornerRadius="8" />
    </WindowChrome.WindowChrome>

    <Window.CommandBindings>        
        <CommandBinding CanExecute="CommandBinding_CanExecute"
                        Command="{x:Static SystemCommands.MaximizeWindowCommand}"
                        Executed="CommandBinding_Executed_Maximize" />
        <CommandBinding CanExecute="CommandBinding_CanExecute"
                        Command="{x:Static SystemCommands.MinimizeWindowCommand}"
                        Executed="CommandBinding_Executed_Minimize" />
        <CommandBinding CanExecute="CommandBinding_CanExecute"
                        Command="{x:Static SystemCommands.RestoreWindowCommand}"
                        Executed="CommandBinding_Executed_Restore" />
    </Window.CommandBindings>

    <Border>

        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="50" />
                <RowDefinition Height="*" />
            </Grid.RowDefinitions>

            <Border CornerRadius="8,8,0,0" MouseLeftButtonDown="Border_MouseLeftButtonDown">
                <Border.Background>
                    <LinearGradientBrush StartPoint="0,0"
                                         EndPoint="1,1"
                                         po:Freeze="True">
                        <GradientStop Offset="0"
                                      Color="#FF0066FF" />
                        <GradientStop Offset="1"
                                      Color="#FF34D0B3" />
                    </LinearGradientBrush>

                </Border.Background>

                <StackPanel HorizontalAlignment="Right" Margin="0,0,10,0"
                            VerticalAlignment="Center"
                            Orientation="Horizontal">
                    <Button Command="{x:Static SystemCommands.MinimizeWindowCommand}"
                            Width="30"
                            Height="30"
                            ToolTip="Minimize"
                            WindowChrome.IsHitTestVisibleInChrome="true" />
                    <Button x:Name="RestoreButton"
                            Command="{x:Static SystemCommands.RestoreWindowCommand}"
                            Width="30"
                            Height="30"
                            ToolTip="Restore"
                            Visibility="Visible"
                            WindowChrome.IsHitTestVisibleInChrome="true" />
                    <Button x:Name="MaximizeButton"
                            Command="{x:Static SystemCommands.MaximizeWindowCommand}"
                            Width="30"
                            Height="30"
                            ToolTip="Maximize"
                            Visibility="Visible"
                            WindowChrome.IsHitTestVisibleInChrome="true" />
                    <Button Width="30"
                            Height="30"
                            ToolTip="Close">                        
                        <i:Interaction.Triggers>                            
                            <i:EventTrigger EventName="Click">
                                <i:CallMethodAction TargetObject="{Binding ElementName=window}"
                                                     MethodName="Close" />
                            </i:EventTrigger>
                        </i:Interaction.Triggers>
                    </Button>
                </StackPanel>

            </Border>

            <Border CornerRadius="0,0,8,8" Background="White" Grid.Row="1">

                <Grid>
                    <WrapPanel>
                        <TextBlock Margin="10"
                                   HorizontalAlignment="Center"
                                   Text="{Binding Name}" />
                        <Button Width="100"
                                Height="50"
                                Margin="10"
                                Command="{Binding ClickCommand}"
                                Content="Click" />

                        <PasswordBox Width="100"
                                     Height="30"
                                     extends:PasswordExtend.BindablePassword="{Binding UserPW, Mode=TwoWay}"
                                     extends:PasswordExtend.IsPasswordBindable="True" />

                        <Grid>

                            <!--<ui:FontIcon FontFamily="Segoe Fluent Icons"
                                     Glyph="&#xE8A7;"
                                     Foreground="#C72335" />-->
                            <!--<FontIcon FontFamily="Segoe Fluent Icons"
                                  Glyph="&#xEB52;"
                                  Foreground="#C72335" />
                        <FontIcon FontFamily="Segoe Fluent Icons"
                                  Glyph="&#xEB51;" />-->
                        </Grid>
                    </WrapPanel>

                    <Border HorizontalAlignment="Stretch"
                            VerticalAlignment="Bottom"
                            Grid.Row="1"
                            Background="Red"
                            CornerRadius="0,0,8,8"
                            Height="54" />

                </Grid>
                
                
            </Border>

        </Grid>

    </Border>
</Window>
